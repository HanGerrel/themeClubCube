"use strict";appMakeBeCool.gateway.addClass("FormAjax",function(s,a,e,r){function n(){if(appMakeBeCool.gateway.base.Class.apply(o,[i]),!u.preloaded)return o.init();o.globals.customCreate=function(){t(),c(),l(),f()},o.create()}var o=this,i=a.extend({name:"#subscribe-name",surename:"#subscribe-surname",email:"#subscribe-email",country:"#subscribe-country",forms:[],successMessageSuffix:"SuccessMessage",errorMessageSuffix:"ErrorMessage",signUploads:".sign-uploads",imageError:".error",signAvatar:".sign-avatar",signPhoto:".sign-photo"},s),u={forms:[],successMessages:[],name:"#subscribe-name",surename:"#subscribe-surname",email:"#subscribe-email",country:"#subscribe-country",signUploads:null,imageError:null,signAvatar:null,signPhoto:null,preloaded:!1},t=function(){if(i.forms.length)for(var s in i.forms)u.forms.push(a(i.forms[s])),u.successMessages.push(a(i.forms[s]+i.successMessageSuffix))},c=function(){if(u.forms.length)for(var s in u.forms)u.forms[s].ajaxForm({dataType:"json",beforeSubmit:g,success:d})},l=function(){},f=function(){o.globals.customResurrect=function(){},o.globals.customDestroy=function(){}},g=function(s,e,r){return m(s,e)},m=function(s,r){var n=!0;return 0<r.find(i.signAvatar).length&&a.each(s,function(s,e){"image"==e.name&&e.required&&!e.value&&(r.find(i.signPhoto).addClass("error").siblings(i.imageError).show(),n=!1)}),n},d=function(s,e,r,n){s?n.slideUp("slow",function(){var s=n.attr("id")+i.successMessageSuffix;a("#"+s).slideDown("slow")}):n.slideUp("slow",function(){var s=n.attr("id")+i.errorMessageSuffix;a("#"+s).slideDown("slow")})};o.addMethod("init",function(){o.bind(e,o.globals.classType+"_Init",function(s,e,r){u.preloaded=!0,n()})}),n()});