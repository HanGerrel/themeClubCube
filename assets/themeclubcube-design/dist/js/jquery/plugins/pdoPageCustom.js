0<$("#pdopage").length&&("undefined"==typeof pdoPage&&(pdoPage={callbacks:{},keys:{}}),pdoPage.Reached=!1,pdoPage.initialize=function(i){var e,a,o;null==pdoPage.keys[i.pageVarKey]&&(e=i.pageVarKey,o=null==(a=pdoPage.Hash.get())[e]?1:a[e],pdoPage.keys[e]=Number(o));var p=this;switch(i.mode){case"default":$(document).on("click",i.link,function(e){e.preventDefault();var a=$(this).prop("href"),o=i.pageVarKey,t=a.match(new RegExp(o+"=(\\d+)")),n=t?t[1]:1;pdoPage.keys[o]!=n&&(pdoPage.Hash.add(o,n),p.loadPage(a,i))}),$(window).on("popstate",function(e){e.originalEvent.state&&e.originalEvent.state.pdoPage&&p.loadPage(e.originalEvent.state.pdoPage,i)}),history.replaceState({pdoPage:window.location.href},"");break;case"scroll":case"button":if(void 0===jQuery().sticky)return void $.getScript(i.assetsUrl+"js/lib/jquery.sticky.js",function(){pdoPage.initialize(i)});pdoPage.stickyPagination(i);var t,n,d,r=i.pageVarKey;"button"==i.mode?($(i.rows).after(i.moreTpl),t=!1,$(i.link).each(function(){var e=$(this).prop("href").match(new RegExp(r+"=(\\d+)"));if((e?e[1]:1)>pdoPage.keys[r])return!(t=!0)}),t||$(i.more).hide(),$(document).on("click",i.more,function(e){e.preventDefault(),pdoPage.addPage(i)})):(n=$(i.wrapper),(d=$(window)).on("scroll",function(){!pdoPage.Reached&&d.scrollTop()>n.height()-d.height()&&(pdoPage.Reached=!0,pdoPage.addPage(i))}))}},pdoPage.addPage=function(t){var n=t.pageVarKey,i=pdoPage.Hash.get()[n]||1;$(t.link).each(function(){var e=$(this).prop("href"),a=e.match(new RegExp(n+"=(\\d+)")),o=a?Number(a[1]):1;if(i<o)return pdoPage.Hash.add(n,o),pdoPage.keys[n]=i,pdoPage.loadPage(e,t,"append"),!1})},pdoPage.loadPage=function(e,a,o){var t=$(a.wrapper),n=$(a.rows),i=$(a.pagination),p=a.pageVarKey,d=e.match(new RegExp(p+"=(\\d+)")),r=d?Number(d[1]):1;if(o=o||"replace",pdoPage.keys[p]!=r){pdoPage.callbacks.before&&"function"==typeof pdoPage.callbacks.before?pdoPage.callbacks.before.apply(this,[a]):"scroll"!=a.mode&&t.css({opacity:.3});var s=pdoPage.Hash.get();for(var g in s)s.hasOwnProperty(g)&&pdoPage.keys[g]&&g!=p&&delete s[g];s[p]=pdoPage.keys[p]=r,$.get(document.location.pathname,s,function(e){e&&e.total&&(t.find(i).html(e.pagination),"append"==o?(t.find(n).append(e.output),"button"==a.mode?e.pages==e.page?$(a.more).hide():$(a.more).show():"scroll"==a.mode&&(pdoPage.Reached=!1)):t.find(n).html(e.output),pdoPage.callbacks.after&&"function"==typeof pdoPage.callbacks.after?pdoPage.callbacks.after.apply(this,[a,e]):"scroll"!=a.mode&&(t.css({opacity:1}),"default"==a.mode&&$("html, body").animate({scrollTop:t.position().top-50||0},0)),pdoPage.updateTitle(a,e),$(document).trigger("pdopage_load",[a,e]))},"json")}},pdoPage.stickyPagination=function(e){var a=$(e.pagination);a.is(":visible")&&(a.sticky({wrapperClassName:"sticky-pagination",getWidthFrom:e.pagination,responsiveWidth:!0}),$(e.wrapper).trigger("scroll"))},pdoPage.updateTitle=function(e,a){if("undefined"!=typeof pdoTitle){for(var o=$("title"),t=pdoTitle.separator||" / ",n=pdoTitle.tpl,i=[],p=o.text().split(t),d=new RegExp("^"+n.split(" ")[0]+" "),r=0;r<p.length;r++)1===r&&a.page&&1<a.page&&i.push(n.replace("{page}",a.page).replace("{pageCount}",a.pages)),p[r].match(d)||i.push(p[r]);o.text(i.join(t))}},pdoPage.Hash={get:function(){var e,a,o,t,n={};if(t=this.oldbrowser()?(o=decodeURIComponent(window.location.hash.substr(1)),"/"):(o=-1!=(a=window.location.href.indexOf("?"))?decodeURIComponent(window.location.href.substr(a+1)):"","&"),0==o.length)return n;for(var i in o=o.split(t))o.hasOwnProperty(i)&&(void 0===(e=o[i].split("="))[1]?n.anchor=e[0]:n[e[0]]=e[1]);return n},set:function(e){var a="";for(var o in e)e.hasOwnProperty(o)&&(a+="&"+o+"="+e[o]);this.oldbrowser()?window.location.hash=a.substr(1):(0!=a.length&&(a="?"+a.substr(1)),window.history.pushState({pdoPage:document.location.pathname+a},"",document.location.pathname+a))},add:function(e,a){var o=this.get();o[e]=a,this.set(o)},remove:function(e){var a=this.get();delete a[e],this.set(a)},clear:function(){this.set({})},oldbrowser:function(){return!(window.history&&history.pushState)}},"undefined"==typeof jQuery&&console.log("You must load jQuery for using ajax mode in pdoPage."));