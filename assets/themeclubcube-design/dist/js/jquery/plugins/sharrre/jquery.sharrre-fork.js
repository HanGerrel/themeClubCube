!function(l,i,u){var n="sharrre",o={className:"sharrre",share:{googlePlus:!1,facebook:!1,twitter:!1,digg:!1,delicious:!1,stumbleupon:!1,linkedin:!1,pinterest:!1,vk:!1},shareTotal:0,template:"",title:"",url:u.location.href,text:u.title,urlCurl:"sharrre.php",count:{},total:0,shorterTotal:!0,enableHover:!0,enableCounter:!0,enableTracking:!1,hover:function(){},hide:function(){},click:function(){},render:function(){},buttons:{googlePlus:{url:"",urlCount:!1,size:"medium",lang:"en-US",annotation:""},facebook:{url:"",urlCount:!1,action:"like",layout:"button_count",width:"",send:"false",faces:"false",colorscheme:"",font:"",lang:"en_US"},twitter:{url:"",urlCount:!1,count:"horizontal",hashtags:"",via:"",related:"",username:!1,lang:"en"},digg:{url:"",urlCount:!1,type:"DiggCompact"},delicious:{url:"",urlCount:!1,size:"medium"},stumbleupon:{url:"",urlCount:!1,layout:"1"},linkedin:{url:"",urlCount:!1,counter:""},pinterest:{url:"",media:"",description:"",layout:"horizontal"},vk:{apiId:0,counted:0,bId:1,height:22,pageUrl:"",type:"full",verb:0,width:350}}},a={googlePlus:"",facebook:"http://graph.facebook.com/?id={url}&callback=?",twitter:"https://cdn.api.twitter.com/1/urls/count.json?url={url}&callback=?",digg:"http://services.digg.com/2.0/story.getInfo?links={url}&type=javascript&callback=?",delicious:"http://feeds.delicious.com/v2/json/urlinfo/data?url={url}&callback=?",stumbleupon:"",linkedin:"http://www.linkedin.com/countserv/count/share?format=jsonp&url={url}&callback=?",pinterest:"",vk:""},r={googlePlus:function(t){var e=t.options.buttons.googlePlus;l(t.element).find(".buttons").append('<div class="button googleplus"><div class="g-plusone" data-size="'+e.size+'" data-href="'+(""!==e.url?e.url:t.options.url)+'" data-annotation="'+e.annotation+'"></div></div>'),i.___gcfg={lang:t.options.buttons.googlePlus.lang};var o=0;"undefined"==typeof gapi&&0==o?(o=1,function(){var t=u.createElement("script");t.type="text/javascript",t.async=!0,t.src="//apis.google.com/js/plusone.js";var e=u.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()):gapi.plusone.go()},facebook:function(t){var e=t.options.buttons.facebook;l(t.element).find(".buttons").append('<div class="button facebook"><div id="fb-root"></div><div class="fb-like" data-href="'+(""!==e.url?e.url:t.options.url)+'" data-send="'+e.send+'" data-layout="'+e.layout+'" data-width="'+e.width+'" data-show-faces="'+e.faces+'" data-action="'+e.action+'" data-colorscheme="'+e.colorscheme+'" data-font="'+e.font+'" data-via="'+e.via+'"></div></div>');var o,n,i,s,a,r=0;"undefined"==typeof FB&&0==r?(r=1,n="script",i="facebook-jssdk",a=(o=u).getElementsByTagName(n)[0],o.getElementById(i)||((s=o.createElement(n)).id=i,s.src="//connect.facebook.net/"+e.lang+"/all.js#xfbml=1",a.parentNode.insertBefore(s,a))):FB.XFBML.parse()},twitter:function(t){var e=t.options.buttons.twitter;l(t.element).find(".buttons").append(e.username?'<div class="button twitter" data-text="'+e.username+'"><a href="https://twitter.com/'+e.username+'" class="twitter-follow-button" data-text="'+e.username+'" data-show-count="false">Follow @'+e.username+"</a></div>":'<div class="button twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-url="'+(""!==e.url?e.url:t.options.url)+'" data-count="'+e.count+'" data-text="'+t.options.text+'" data-via="'+e.via+'" data-hashtags="'+e.hashtags+'" data-related="'+e.related+'" data-lang="'+e.lang+'">Tweet</a></div>');var o=0;"undefined"==typeof twttr&&0==o?(o=1,function(){var t=u.createElement("script");t.type="text/javascript",t.async=!0,t.src="//platform.twitter.com/widgets.js";var e=u.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()):l.ajax({url:"//platform.twitter.com/widgets.js",dataType:"script",cache:!0})},digg:function(t){var e=t.options.buttons.digg;l(t.element).find(".buttons").append('<div class="button digg"><a class="DiggThisButton '+e.type+'" rel="nofollow external" href="http://digg.com/submit?url='+encodeURIComponent(""!==e.url?e.url:t.options.url)+'"></a></div>');var o,n,i=0;"undefined"==typeof __DBW&&0==i&&(i=1,o=u.createElement("SCRIPT"),n=u.getElementsByTagName("SCRIPT")[0],o.type="text/javascript",o.async=!0,o.src="//widgets.digg.com/buttons.js",n.parentNode.insertBefore(o,n))},delicious:function(t){var e,o,n;n="tall"==t.options.buttons.delicious.size?(e="width:50px;",o="height:35px;width:50px;font-size:15px;line-height:35px;","height:18px;line-height:18px;margin-top:3px;"):(e="width:93px;",o="float:right;padding:0 3px;height:20px;width:26px;line-height:20px;","float:left;height:20px;line-height:20px;");var i=t.shorterTotal(t.options.count.delicious);void 0===i&&(i=0),l(t.element).find(".buttons").append('<div class="button delicious"><div style="'+e+'font:12px Arial,Helvetica,sans-serif;cursor:pointer;color:#666666;display:inline-block;float:none;height:20px;line-height:normal;margin:0;padding:0;text-indent:0;vertical-align:baseline;"><div style="'+o+'background-color:#fff;margin-bottom:5px;overflow:hidden;text-align:center;border:1px solid #ccc;border-radius:3px;">'+i+'</div><div style="'+n+'display:block;padding:0;text-align:center;text-decoration:none;width:50px;background-color:#7EACEE;border:1px solid #40679C;border-radius:3px;color:#fff;"><img src="http://www.delicious.com/static/img/delicious.small.gif" height="10" width="10" alt="Delicious" /> Add</div></div></div>'),l(t.element).find(".delicious").on("click",function(){t.openPopup("delicious")})},stumbleupon:function(t){var e=t.options.buttons.stumbleupon;l(t.element).find(".buttons").append('<div class="button stumbleupon"><su:badge layout="'+e.layout+'" location="'+(""!==e.url?e.url:t.options.url)+'"></su:badge></div>');var o=0;"undefined"==typeof STMBLPN&&0==o?(o=1,function(){var t=u.createElement("script");t.type="text/javascript",t.async=!0,t.src="//platform.stumbleupon.com/1/widgets.js";var e=u.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),s=i.setTimeout(function(){"undefined"!=typeof STMBLPN&&(STMBLPN.processWidgets(),clearInterval(s))},500)):STMBLPN.processWidgets()},linkedin:function(t){var e=t.options.buttons.linkedin;l(t.element).find(".buttons").append('<div class="button linkedin"><script type="in/share" data-url="'+(""!==e.url?e.url:t.options.url)+'" data-counter="'+e.counter+'"><\/script></div>');var o=0;void 0===i.IN&&0==o?(o=1,function(){var t=u.createElement("script");t.type="text/javascript",t.async=!0,t.src="//platform.linkedin.com/in.js";var e=u.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()):i.IN.init()},pinterest:function(t){var e=t.options.buttons.pinterest;l(t.element).find(".buttons").append('<div class="button pinterest"><a href="http://pinterest.com/pin/create/button/?url='+(""!==e.url?e.url:t.options.url)+"&media="+e.media+"&description="+e.description+'" class="pin-it-button" count-layout="'+e.layout+'">Pin It</a></div>'),function(){var t=u.createElement("script");t.type="text/javascript",t.async=!0,t.src="//assets.pinterest.com/js/pinit.js";var e=u.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()},vk:function(e){var t=e.options.buttons.vk;l(e.element).find(".buttons").append('<div class="button vk"><div id="vk-like-'+t.bId+'" class="vk-button" data-url="'+(""!==t.pageUrl?t.pageUrl:e.options.url)+'" data-pageUrl="'+(""!==t.pageUrl?t.pageUrl:e.options.url)+'"></div></div>');function o(){VK.init({apiId:t.apiId,onlyWidgets:!0}),VK.Widgets.Like("vk-like-"+t.bId++,t),VK.Observer.subscribe("widgets.like.liked",function(t){e.updateCounter("vk"),e.options.enableTracking&&_gaq.push(["_trackSocial","vkontakte","like"])}),VK.Observer.subscribe("widgets.like.unliked",function(t){e.updateCounter("vk",-1),e.options.enableTracking&&_gaq.push(["_trackSocial","vkontakte","unlike"])})}var n=0;"undefined"==typeof VK&&0==n?(n=1,function(){i.vkAsyncInit=o;var t=u.createElement("script");t.type="text/javascript",t.async=!0,t.src="//vk.com/js/api/openapi.js?63";var e=u.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()):o()}},c={googlePlus:function(){},facebook:function(e){fb=i.setInterval(function(){"undefined"!=typeof FB&&(FB.Event.subscribe("edge.create",function(t){e.updateCounter("facebook"),_gaq.push(["_trackSocial","facebook","like",t])}),FB.Event.subscribe("edge.remove",function(t){e.updateCounter("facebook",-1),_gaq.push(["_trackSocial","facebook","unlike",t])}),FB.Event.subscribe("message.send",function(t){_gaq.push(["_trackSocial","facebook","send",t])}),clearInterval(fb))},1e3)},twitter:function(e){tw=i.setInterval(function(){"undefined"!=typeof twttr&&(twttr.events.bind("tweet",function(t){t&&(e.updateCounter("twitter"),_gaq.push(["_trackSocial","twitter","tweet"]))}),clearInterval(tw))},1e3)},digg:function(){},delicious:function(){},stumbleupon:function(){},linkedin:function(){},pinterest:function(){},vk:function(){}},p={googlePlus:function(t){i.open("https://plus.google.com/share?hl="+t.buttons.googlePlus.lang+"&url="+encodeURIComponent(""!==t.buttons.googlePlus.url?t.buttons.googlePlus.url:t.url),"","toolbar=0, status=0, width=900, height=500")},facebook:function(t){i.open("http://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(""!==t.buttons.facebook.url?t.buttons.facebook.url:t.url)+"&t="+t.text,"","toolbar=0, status=0, width=900, height=500")},twitter:function(t){i.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(t.text)+"&url="+encodeURIComponent(""!==t.buttons.twitter.url?t.buttons.twitter.url:t.url)+(""!==t.buttons.twitter.via?"&via="+t.buttons.twitter.via:""),"","toolbar=0, status=0, width=650, height=360")},digg:function(t){i.open("http://digg.com/tools/diggthis/submit?url="+encodeURIComponent(""!==t.buttons.digg.url?t.buttons.digg.url:t.url)+"&title="+t.text+"&related=true&style=true","","toolbar=0, status=0, width=650, height=360")},delicious:function(t){i.open("http://www.delicious.com/save?v=5&noui&jump=close&url="+encodeURIComponent(""!==t.buttons.delicious.url?t.buttons.delicious.url:t.url)+"&title="+t.text,"delicious","toolbar=no,width=550,height=550")},stumbleupon:function(t){i.open("http://www.stumbleupon.com/badge/?url="+encodeURIComponent(""!==t.buttons.delicious.url?t.buttons.delicious.url:t.url),"stumbleupon","toolbar=no,width=550,height=550")},linkedin:function(t){i.open("https://www.linkedin.com/cws/share?url="+encodeURIComponent(""!==t.buttons.delicious.url?t.buttons.delicious.url:t.url)+"&token=&isFramed=true","linkedin","toolbar=no,width=550,height=550")},pinterest:function(t){i.open("http://pinterest.com/pin/create/button/?url="+encodeURIComponent(""!==t.buttons.pinterest.url?t.buttons.pinterest.url:t.url)+"&media="+encodeURIComponent(t.buttons.pinterest.media)+"&description="+t.buttons.pinterest.description,"pinterest","toolbar=no,width=700,height=300")},vk:function(t){console.log("VK Popup",t)}};function d(t,e){this.element=t,this.options=l.extend(!0,{},o,e),this.options.share=e.share,this._defaults=o,this._name=n,this.init()}d.prototype.init=function(){var o=this;""!==this.options.urlCurl&&(a.googlePlus=this.options.urlCurl+"?url={url}&type=googlePlus",a.stumbleupon=this.options.urlCurl+"?url={url}&type=stumbleupon",a.pinterest=this.options.urlCurl+"?url={url}&type=pinterest",a.vk=this.options.urlCurl+"?url={url}&type=vk&app={app}"),l(this.element).addClass(this.options.className),void 0!==l(this.element).data("title")&&(this.options.title=l(this.element).attr("data-title")),void 0!==l(this.element).data("url")&&(this.options.url=l(this.element).data("url")),void 0!==l(this.element).data("text")&&(this.options.text=l(this.element).data("text")),l.each(this.options.share,function(t,e){!0===e&&o.options.shareTotal++}),!0===o.options.enableCounter?l.each(this.options.share,function(t,e){if(!0===e)try{o.getSocialJson(t)}catch(t){}}):""!==o.options.template?this.options.render(this,this.options):this.loadButtons(),l(this.element).hover(function(){0===l(this).find(".buttons").length&&!0===o.options.enableHover&&o.loadButtons(),o.options.hover(o,o.options)},function(){o.options.hide(o,o.options)}),l(this.element).click(function(){return o.options.click(o,o.options),!1})},d.prototype.loadButtons=function(){var o=this;l(this.element).append('<div class="buttons"></div>'),l.each(o.options.share,function(t,e){1==e&&(r[t](o),!0===o.options.enableTracking&&c[t](o))})},d.prototype.getSocialJson=function(o){var n=this,i=0,t=a[o].replace("{url}",encodeURIComponent(this.options.url));"twitter"==o&&this.options.buttons[o].username?t=a[o]="https://cdn.api.twitter.com/1/users/show.json?screen_name="+this.options.buttons[o].username+"&include_entities=true&callback=?":"vk"==o&&(t=t.replace("{app}",this.options.buttons[o].apiId)),!0===this.options.buttons[o].urlCount&&""!==this.options.buttons[o].url&&(t=a[o].replace("{url}",this.options.buttons[o].url)),""!=t&&""!==n.options.urlCurl?l.getJSON(t,function(t){var e;void 0!==t.count?(e=(e=t.count+"").replace("Â ",""),i+=parseInt(e,10)):t.data&&0<t.data.length&&void 0!==t.data[0].total_count?i+=parseInt(t.data[0].total_count,10):void 0!==t.likes?(i+=parseInt(t.likes,10),n.options.buttons[o].url=t.link):void 0!==t.shares?i+=parseInt(t.shares,10):void 0!==t[0]?i+=parseInt(t[0].total_posts,10):void 0!==t[0]||void 0!==t.followers_count&&(i+=parseInt(t.followers_count,10)),n.options.count[o]=i,n.options.total+=i,n.renderer(),n.rendererPerso()}).error(function(){n.options.count[o]=0,n.rendererPerso()}):(n.renderer(),n.options.count[o]=0,n.rendererPerso())},d.prototype.rendererPerso=function(){var t=0;for(e in this.options.count)t++;t===this.options.shareTotal&&this.options.render(this,this.options)},d.prototype.renderer=function(){var t=this.options.total,e=this.options.template;!0===this.options.shorterTotal&&(t=this.shorterTotal(t)),""!==e?(e=e.replace("{total}",t),l(this.element).html(e)):l(this.element).html('<div class="box"><a class="count" href="#">'+t+"</a>"+(""!==this.options.title?'<a class="share" href="#">'+this.options.title+"</a>":"")+"</div>")},d.prototype.shorterTotal=function(t){return 1e6<=t?t=(t/1e6).toFixed(2)+"M":1e3<=t&&(t=(t/1e3).toFixed(1)+"k"),t},d.prototype.openPopup=function(t){var e;p[t](this.options),!0===this.options.enableTracking&&(e={googlePlus:{site:"Google",action:"+1"},facebook:{site:"facebook",action:"like"},twitter:{site:"twitter",action:"tweet"},digg:{site:"digg",action:"add"},delicious:{site:"delicious",action:"add"},stumbleupon:{site:"stumbleupon",action:"add"},linkedin:{site:"linkedin",action:"share"},pinterest:{site:"pinterest",action:"pin"},vk:{site:"vk",action:"like"}},_gaq.push(["_trackSocial",e[t].site,e[t].action]))},d.prototype.simulateClick=function(){var t=l(this.element).html();l(this.element).html(t.replace(this.options.total,this.options.total+1))},d.prototype.update=function(t,e){""!==t&&(this.options.url=t),""!==e&&(this.options.text=e)},d.prototype.updateCounter=function(t,e){void 0===e&&(e=1),this.options.count[t]+=e,this.options.total+=e,l(this.element).find("a.count:first").text(this.options.total)},l.fn[n]=function(e){var o=arguments;return void 0===e||"object"==typeof e?this.each(function(){l.data(this,"plugin_"+n)||l.data(this,"plugin_"+n,new d(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?this.each(function(){var t=l.data(this,"plugin_"+n);t instanceof d&&"function"==typeof t[e]&&t[e].apply(t,Array.prototype.slice.call(o,1))}):void 0}}(jQuery,window,document);